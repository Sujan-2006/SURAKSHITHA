<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grievance & Support System - SURAKSHITHA</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    .ticket-status {
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: bold;
      text-transform: uppercase;
    }
    .status-open { background: #fff3cd; color: #856404; }
    .status-in-progress { background: #cce5ff; color: #004085; }
    .status-resolved { background: #d4edda; color: #155724; }
    .status-closed { background: #f8d7da; color: #721c24; }
    .priority-high { border-left: 4px solid #dc3545; }
    .priority-medium { border-left: 4px solid #ffc107; }
    .priority-low { border-left: 4px solid #28a745; }
    .ticket-card {
      background: white;
      border-radius: 10px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border-left: 4px solid #ddd;
    }
    .ticket-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }
    .ticket-id {
      font-family: monospace;
      background: #f8f9fa;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-weight: bold;
    }
    .category-tag {
      background: #e9ecef;
      color: #495057;
      padding: 0.2rem 0.5rem;
      border-radius: 10px;
      font-size: 0.8rem;
      margin: 0.2rem;
    }
    .escalation-path {
      background: #f8f9fa;
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
      border-left: 3px solid #17a2b8;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-brand">
      <div class="brand-icon">üåø</div>
      <h1>SURAKSHITHA</h1>
    </div>
    <div class="user-info">
      <div class="language-switcher">
        <select class="language-dropdown" onchange="changeLanguage(this.value)">
          <option value="en">English</option>
          <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
          <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
          <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
          <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
          <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
        </select>
      </div>
      <span id="user-welcome">Grievance & Support Portal</span>
    </div>
  </header>

  <!-- Navigation -->
  <nav class="nav-menu">
    <a href="index.html" class="nav-item">üè† Home</a>
    <a href="market-analysis.html" class="nav-item">üìä Market Analysis</a>
    <a href="communication-hub.html" class="nav-item">üí¨ Communications</a>
    <a href="reviews-ratings.html" class="nav-item">‚≠ê Reviews & Ratings</a>
    <a href="#" class="nav-item active">üéØ Grievances</a>
  </nav>

  <!-- Main Content -->
  <main class="home-content">
    <div class="dashboard-header">
      <h2 id="main-title">GRIEVANCE & SUPPORT SYSTEM</h2>
      <p class="subtitle" id="main-subtitle">Report issues, track complaints, and get comprehensive support across the supply chain</p>
    </div>

    <!-- Quick Stats -->
    <div class="dashboard-stats">
      <div class="stat-card">
        <div class="stat-number">24/7</div>
        <div class="stat-label" id="stat-support">Support Available</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">2.5hrs</div>
        <div class="stat-label" id="stat-response">Avg Response Time</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">96.8%</div>
        <div class="stat-label" id="stat-resolution">Resolution Rate</div>
      </div>
      <div class="stat-card">
        <div class="stat-number">4.9‚≠ê</div>
        <div class="stat-label" id="stat-satisfaction">Support Satisfaction</div>
      </div>
    </div>

    <!-- Ticket Creation Section -->
    <div class="grievance-form">
      <h3 id="create-ticket">üé´ Create New Support Ticket</h3>

      <div class="form-group">
        <label class="form-label" id="label-user-type">User Type:</label>
        <select class="form-select" id="userType" onchange="updateIssueCategories()">
          <option value="consumer" id="option-consumer">Consumer</option>
          <option value="cultivator" id="option-cultivator">Cultivator/Farmer</option>
          <option value="manufacturer" id="option-manufacturer">Manufacturer</option>
          <option value="processor" id="option-processor">Processor</option>
          <option value="admin" id="option-admin">Platform Admin</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label" id="label-issue-type">Issue Category:</label>
        <select class="form-select" id="issueCategory">
          <!-- Dynamically populated based on user type -->
        </select>
      </div>

      <div class="form-group">
        <label class="form-label" id="label-priority">Priority Level:</label>
        <div class="priority-selector">
          <div class="priority-option high" onclick="selectPriority('high')">
            <strong id="priority-high">üö® High Priority</strong>
            <small id="priority-high-desc">System down, urgent business impact</small>
          </div>
          <div class="priority-option medium" onclick="selectPriority('medium')">
            <strong id="priority-medium">‚ö†Ô∏è Medium Priority</strong>
            <small id="priority-medium-desc">Feature issues, moderate impact</small>
          </div>
          <div class="priority-option low" onclick="selectPriority('low')">
            <strong id="priority-low">‚ÑπÔ∏è Low Priority</strong>
            <small id="priority-low-desc">General questions, minor issues</small>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="form-label" id="label-subject">Subject/Title:</label>
        <input type="text" class="form-input" id="ticketSubject" placeholder="Brief description of your issue">
      </div>

      <div class="form-group">
        <label class="form-label" id="label-description">Detailed Description:</label>
        <textarea class="form-textarea" id="ticketDescription" placeholder="Please provide detailed information about your issue, including steps to reproduce, expected vs actual behavior, etc."></textarea>
      </div>

      <div class="form-group">
        <label class="form-label" id="label-batch-id">Related Batch/Order ID (if applicable):</label>
        <input type="text" class="form-input" id="batchId" placeholder="e.g., TRIK2505453, ORDER123456">
      </div>

      <div class="form-group">
        <label class="form-label" id="label-contact-method">Preferred Contact Method:</label>
        <select class="form-select">
          <option id="contact-email">Email</option>
          <option id="contact-phone">Phone</option>
          <option id="contact-platform">Platform Messages</option>
          <option id="contact-all">All Methods</option>
        </select>
      </div>

      <div class="form-group">
        <label class="form-label" id="label-urgency">Business Impact:</label>
        <select class="form-select">
          <option id="impact-critical">Critical - Business Operations Stopped</option>
          <option id="impact-major">Major - Significant Business Impact</option>
          <option id="impact-minor" selected>Minor - Limited Impact</option>
          <option id="impact-none">None - General Inquiry</option>
        </select>
      </div>

      <div class="action-buttons">
        <button class="btn btn-primary" onclick="submitTicket()">üé´ Create Ticket</button>
        <button class="btn btn-secondary" onclick="attachFile()">üìé Attach Files</button>
        <button class="btn btn-ingredients" onclick="saveDraft()">üíæ Save as Draft</button>
        <button class="btn btn-certifications" onclick="viewTemplates()">üìã Use Template</button>
      </div>
    </div>

    <!-- My Tickets Section -->
    <div class="market-analysis">
      <h3 id="my-tickets">üìã My Support Tickets</h3>

      <!-- Active Tickets -->
      <div class="ticket-card priority-high">
        <div class="ticket-header">
          <div>
            <span class="ticket-id">TKT-2025-001247</span>
            <span class="ticket-status status-in-progress">In Progress</span>
          </div>
          <div>
            <span class="category-tag">Payment Issue</span>
            <small style="color: #666;">Created: Sep 28, 2025</small>
          </div>
        </div>
        <h4>Payment not received for Black Pepper order</h4>
        <p style="color: #666; margin: 0.5rem 0;">Delivered premium quality black pepper (72kg) to Kerala Spice Processing Co. on Sep 25, but payment is overdue by 3 days. Need urgent resolution as it affects cash flow.</p>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
          <div>
            <small style="color: #666;">Assigned to: Payment Support Team</small>
          </div>
          <div>
            <button class="btn btn-primary" onclick="viewTicket('TKT-2025-001247')">View Details</button>
            <button class="btn btn-secondary" onclick="addComment('TKT-2025-001247')">Add Comment</button>
          </div>
        </div>
      </div>

      <div class="ticket-card priority-medium">
        <div class="ticket-header">
          <div>
            <span class="ticket-id">TKT-2025-001198</span>
            <span class="ticket-status status-open">Open</span>
          </div>
          <div>
            <span class="category-tag">Quality Dispute</span>
            <small style="color: #666;">Created: Sep 26, 2025</small>
          </div>
        </div>
        <h4>Buyer claims quality issues with turmeric batch</h4>
        <p style="color: #666; margin: 0.5rem 0;">Traditional Ayurveda Manufacturers claims our turmeric batch TURM-2025-089 has moisture content above acceptable limits. Need third-party quality verification.</p>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
          <div>
            <small style="color: #666;">Waiting for: Lab Test Results</small>
          </div>
          <div>
            <button class="btn btn-primary" onclick="viewTicket('TKT-2025-001198')">View Details</button>
          </div>
        </div>
      </div>

      <div class="ticket-card priority-low">
        <div class="ticket-header">
          <div>
            <span class="ticket-id">TKT-2025-001089</span>
            <span class="ticket-status status-resolved">Resolved</span>
          </div>
          <div>
            <span class="category-tag">Platform Feature</span>
            <small style="color: #666;">Created: Sep 20, 2025</small>
          </div>
        </div>
        <h4>Request for mobile app notifications</h4>
        <p style="color: #666; margin: 0.5rem 0;">Would like to receive push notifications on mobile app for new buyer inquiries and price alerts. Feature request for enhanced communication.</p>
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
          <div>
            <small style="color: #28a745;">Resolved on: Sep 24, 2025</small>
          </div>
          <div>
            <button class="btn btn-secondary" onclick="viewTicket('TKT-2025-001089')">View Solution</button>
            <button class="btn btn-ingredients" onclick="rateResolution('TKT-2025-001089')">Rate Support</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Escalation Information -->
    <div class="market-analysis">
      <h3 id="escalation-title">üìà Escalation Process & Support Levels</h3>

      <div class="escalation-path">
        <h4 style="color: #2d5016; margin-bottom: 1rem;">üéØ Level 1 - First Line Support</h4>
        <ul style="margin-left: 1.5rem; color: #666;">
          <li><strong>Response Time:</strong> Within 2 hours during business hours</li>
          <li><strong>Handles:</strong> General inquiries, account issues, basic platform problems</li>
          <li><strong>Languages:</strong> English, Hindi, Regional languages</li>
          <li><strong>Availability:</strong> 24/7 chat support, business hours phone support</li>
        </ul>
      </div>

      <div class="escalation-path">
        <h4 style="color: #2d5016; margin-bottom: 1rem;">‚ö° Level 2 - Technical Support</h4>
        <ul style="margin-left: 1.5rem; color: #666;">
          <li><strong>Response Time:</strong> Within 4 hours for critical issues</li>
          <li><strong>Handles:</strong> Technical problems, integration issues, blockchain queries</li>
          <li><strong>Expertise:</strong> Technical specialists with domain knowledge</li>
          <li><strong>Escalation:</strong> Complex technical issues, system outages</li>
        </ul>
      </div>

      <div class="escalation-path">
        <h4 style="color: #2d5016; margin-bottom: 1rem;">üèÜ Level 3 - Senior Management</h4>
        <ul style="margin-left: 1.5rem; color: #666;">
          <li><strong>Response Time:</strong> Within 1 business day</li>
          <li><strong>Handles:</strong> Business disputes, policy issues, major complaints</li>
          <li><strong>Authority:</strong> Decision-making power for complex resolutions</li>
          <li><strong>Escalation:</strong> Unresolved disputes, system-wide issues</li>
        </ul>
      </div>

      <div class="escalation-path">
        <h4 style="color: #2d5016; margin-bottom: 1rem;">‚öñÔ∏è Level 4 - Ombudsman/Regulatory</h4>
        <ul style="margin-left: 1.5rem; color: #666;">
          <li><strong>Response Time:</strong> Within 3 business days</li>
          <li><strong>Handles:</strong> Regulatory compliance, legal disputes, final appeals</li>
          <li><strong>Authority:</strong> Independent review and binding decisions</li>
          <li><strong>Process:</strong> Formal investigation and resolution</li>
        </ul>
      </div>
    </div>

    <!-- Common Issues & Solutions -->
    <div class="communication-panel">
      <h3 id="common-issues">üí° Common Issues & Quick Solutions</h3>
      <div class="chat-messages">
        <div class="message">
          <div class="message-header">
            Payment Issues
            <span class="message-time">Most Common</span>
          </div>
          <p><strong>Issue:</strong> Payment not received after delivery<br>
          <strong>Quick Solution:</strong> Check payment status in dashboard ‚Üí Contact buyer directly ‚Üí Escalate to payment team if overdue > 48 hours</p>
        </div>
        <div class="message">
          <div class="message-header">
            Quality Disputes
            <span class="message-time">Frequently Asked</span>
          </div>
          <p><strong>Issue:</strong> Buyer disputes product quality<br>
          <strong>Quick Solution:</strong> Request third-party quality test ‚Üí Provide quality certificates ‚Üí Use blockchain verification for transparency</p>
        </div>
        <div class="message">
          <div class="message-header">
            Platform Technical Issues
            <span class="message-time">Technical</span>
          </div>
          <p><strong>Issue:</strong> Cannot access dashboard or features<br>
          <strong>Quick Solution:</strong> Clear browser cache ‚Üí Try different browser ‚Üí Check internet connection ‚Üí Contact technical support</p>
        </div>
        <div class="message">
          <div class="message-header">
            Communication Problems
            <span class="message-time">Business</span>
          </div>
          <p><strong>Issue:</strong> Cannot contact buyers/suppliers<br>
          <strong>Quick Solution:</strong> Check message settings ‚Üí Verify contact details ‚Üí Use alternative communication methods ‚Üí Report user issues</p>
        </div>
      </div>
    </div>

    <!-- Knowledge Base Links -->
    <div class="market-analysis">
      <h3 id="knowledge-base">üìö Knowledge Base & Resources</h3>
      <div class="dashboard-stats">
        <div class="stat-card">
          <div class="stat-number">üìñ</div>
          <div class="stat-label">User Guides</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">üé•</div>
          <div class="stat-label">Video Tutorials</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">‚ùì</div>
          <div class="stat-label">FAQ Section</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">üìû</div>
          <div class="stat-label">Contact Directory</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">‚öñÔ∏è</div>
          <div class="stat-label">Legal Policies</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">üîß</div>
          <div class="stat-label">Technical Docs</div>
        </div>
      </div>
    </div>

    <!-- Emergency Contacts -->
    <div class="market-analysis" style="background: #f8d7da; border: 2px solid #dc3545;">
      <h3 style="color: #721c24;" id="emergency-contacts">üö® Emergency Contacts</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
        <div style="background: white; padding: 1rem; border-radius: 8px;">
          <h4 style="color: #dc3545;">Critical System Issues</h4>
          <p><strong>Phone:</strong> +91-1800-SURAKSH (24/7)<br>
          <strong>Email:</strong> emergency@surakshitha.com<br>
          <strong>WhatsApp:</strong> +91-98765-43210</p>
        </div>
        <div style="background: white; padding: 1rem; border-radius: 8px;">
          <h4 style="color: #dc3545;">Payment Disputes</h4>
          <p><strong>Phone:</strong> +91-1800-PAY-HELP<br>
          <strong>Email:</strong> payments@surakshitha.com<br>
          <strong>Hours:</strong> 9 AM - 9 PM IST</p>
        </div>
        <div style="background: white; padding: 1rem; border-radius: 8px;">
          <h4 style="color: #dc3545;">Quality Issues</h4>
          <p><strong>Phone:</strong> +91-1800-QUALITY<br>
          <strong>Email:</strong> quality@surakshitha.com<br>
          <strong>Lab:</strong> +91-1800-LAB-TEST</p>
        </div>
        <div style="background: white; padding: 1rem; border-radius: 8px;">
          <h4 style="color: #dc3545;">Legal/Regulatory</h4>
          <p><strong>Phone:</strong> +91-1800-LEGAL<br>
          <strong>Email:</strong> legal@surakshitha.com<br>
          <strong>Ombudsman:</strong> ombudsman@surakshitha.com</p>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn btn-primary" onclick="createTicket()">üé´ Create New Ticket</button>
      <button class="btn btn-secondary" onclick="viewAllTickets()">üìã View All My Tickets</button>
      <button class="btn btn-ingredients" onclick="trackTicket()">üîç Track Ticket Status</button>
      <button class="btn btn-certifications" onclick="downloadRecords()">üìÑ Download Records</button>
      <button class="btn btn-danger" onclick="emergencySupport()">üö® Emergency Support</button>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p id="footer-text">&copy; 2025 SURAKSHITHA | Comprehensive Support & Grievance Resolution</p>
  </footer>

  <script>
    let selectedPriority = 'medium';

    // Issue categories for different user types
    const issueCategories = {
      consumer: [
        'Product Quality Issue',
        'Authenticity Verification',
        'Delivery Problem',
        'Payment Issue',
        'Platform Technical Problem',
        'Account Access',
        'Certification Question',
        'General Inquiry'
      ],
      cultivator: [
        'Payment Not Received',
        'Buyer Communication Issue',
        'Quality Dispute',
        'Market Price Concern',
        'Platform Feature Request',
        'Account Management',
        'Certification Support',
        'Technical Support'
      ],
      manufacturer: [
        'Supplier Quality Issue',
        'Payment Dispute',
        'Production Problem',
        'Regulatory Compliance',
        'Platform Integration',
        'Batch Tracking Issue',
        'Certification Problem',
        'Business Dispute'
      ],
      processor: [
        'Processing Quality Issue',
        'Equipment Problem',
        'Supplier Communication',
        'Payment Issue',
        'Logistics Problem',
        'Certification Support',
        'Technical Integration',
        'Business Operations'
      ],
      admin: [
        'System Administration',
        'User Management',
        'Platform Security',
        'Database Issues',
        'Compliance Review',
        'Feature Development',
        'Integration Problems',
        'Policy Updates'
      ]
    };

    // Language translations
    const translations = {
      en: {
        'user-welcome': 'Grievance & Support Portal',
        'main-title': 'GRIEVANCE & SUPPORT SYSTEM',
        'main-subtitle': 'Report issues, track complaints, and get comprehensive support across the supply chain',
        'create-ticket': 'üé´ Create New Support Ticket',
        'label-user-type': 'User Type:',
        'label-issue-type': 'Issue Category:',
        'label-priority': 'Priority Level:',
        'priority-high': 'üö® High Priority',
        'priority-high-desc': 'System down, urgent business impact',
        'priority-medium': '‚ö†Ô∏è Medium Priority',
        'priority-medium-desc': 'Feature issues, moderate impact',
        'priority-low': '‚ÑπÔ∏è Low Priority',
        'priority-low-desc': 'General questions, minor issues',
        'my-tickets': 'üìã My Support Tickets',
        'escalation-title': 'üìà Escalation Process & Support Levels',
        'common-issues': 'üí° Common Issues & Quick Solutions',
        'knowledge-base': 'üìö Knowledge Base & Resources',
        'emergency-contacts': 'üö® Emergency Contacts'
      },
      hi: {
        'user-welcome': '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§î‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§™‡•ã‡§∞‡•ç‡§ü‡§≤',
        'main-title': '‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§ ‡§î‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ',
        'main-subtitle': '‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç, ‡§∂‡§ø‡§ï‡§æ‡§Ø‡§§‡•ã‡§Ç ‡§ï‡•ã ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡•á‡§Ç, ‡§î‡§∞ ‡§Ü‡§™‡•Ç‡§∞‡•ç‡§§‡§ø ‡§∂‡•ç‡§∞‡•É‡§Ç‡§ñ‡§≤‡§æ ‡§Æ‡•á‡§Ç ‡§µ‡•ç‡§Ø‡§æ‡§™‡§ï ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç',
        'create-ticket': 'üé´ ‡§®‡§Ø‡§æ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ü‡§ø‡§ï‡§ü ‡§¨‡§®‡§æ‡§è‡§Ç',
        'label-user-type': '‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:',
        'label-issue-type': '‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä:',
        'label-priority': '‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ ‡§∏‡•ç‡§§‡§∞:',
        'my-tickets': 'üìã ‡§Æ‡•á‡§∞‡•á ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§ü‡§ø‡§ï‡§ü',
        'escalation-title': 'üìà ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§î‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§∏‡•ç‡§§‡§∞',
        'common-issues': 'üí° ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§∏‡§Æ‡§æ‡§ß‡§æ‡§®',
        'knowledge-base': 'üìö ‡§ú‡•ç‡§û‡§æ‡§® ‡§Ü‡§ß‡§æ‡§∞ ‡§î‡§∞ ‡§∏‡§Ç‡§∏‡§æ‡§ß‡§®',
        'emergency-contacts': 'üö® ‡§Ü‡§™‡§æ‡§§‡§ï‡§æ‡§≤‡•Ä‡§® ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï'
      }
    };

    function changeLanguage(lang) {
      if (translations[lang]) {
        Object.keys(translations[lang]).forEach(key => {
          const element = document.getElementById(key);
          if (element) {
            element.textContent = translations[lang][key];
          }
        });
      }
    }

    function updateIssueCategories() {
      const userType = document.getElementById('userType').value;
      const categorySelect = document.getElementById('issueCategory');

      categorySelect.innerHTML = '';
      issueCategories[userType].forEach(category => {
        const option = document.createElement('option');
        option.value = category;
        option.textContent = category;
        categorySelect.appendChild(option);
      });
    }

    function selectPriority(priority) {
      selectedPriority = priority;
      document.querySelectorAll('.priority-option').forEach(option => {
        option.classList.remove('selected');
      });
      document.querySelector(`.priority-option.${priority}`).classList.add('selected');
    }

    function submitTicket() {
      const userType = document.getElementById('userType').value;
      const category = document.getElementById('issueCategory').value;
      const subject = document.getElementById('ticketSubject').value;
      const description = document.getElementById('ticketDescription').value;

      if (!subject || !description) {
        alert('Please fill in all required fields');
        return;
      }

      const ticketId = 'TKT-2025-' + String(Math.floor(Math.random() * 999999)).padStart(6, '0');

      alert(`Ticket Created Successfully!\n\nTicket ID: ${ticketId}\nPriority: ${selectedPriority}\nCategory: ${category}\n\nYou will receive email confirmation shortly.\nExpected response time: ${getPriorityResponseTime(selectedPriority)}`);

      // Reset form
      document.getElementById('ticketSubject').value = '';
      document.getElementById('ticketDescription').value = '';
    }

    function getPriorityResponseTime(priority) {
      switch(priority) {
        case 'high': return '1 hour';
        case 'medium': return '4 hours';
        case 'low': return '24 hours';
        default: return '4 hours';
      }
    }

    function viewTicket(ticketId) {
      alert(`Opening detailed view for ticket ${ticketId}\n\nThis would show:\n‚Ä¢ Complete conversation history\n‚Ä¢ Status updates and timeline\n‚Ä¢ Attached files and documents\n‚Ä¢ Assigned support agent details\n‚Ä¢ Next steps and actions needed`);
    }

    function addComment(ticketId) {
      const comment = prompt('Add a comment to this ticket:');
      if (comment) {
        alert(`Comment added to ticket ${ticketId}\n\nThe support team will be notified and will respond accordingly.`);
      }
    }

    function rateResolution(ticketId) {
      alert('Please rate your support experience:\n\n‚Ä¢ How satisfied are you with the resolution?\n‚Ä¢ Rate the support agent performance\n‚Ä¢ Any suggestions for improvement?\n\nYour feedback helps us improve our service quality.');
    }

    function attachFile() {
      alert('File attachment feature:\n\n‚Ä¢ Supported formats: PDF, JPG, PNG, DOC\n‚Ä¢ Maximum size: 10MB per file\n‚Ä¢ Multiple files allowed\n‚Ä¢ Files are securely stored and encrypted');
    }

    function saveDraft() {
      alert('Draft saved successfully!\n\nYou can continue editing this ticket later from your drafts folder.');
    }

    function viewTemplates() {
      alert('Available Templates:\n\n‚Ä¢ Payment Issue Template\n‚Ä¢ Quality Dispute Template\n‚Ä¢ Technical Problem Template\n‚Ä¢ General Inquiry Template\n‚Ä¢ Emergency Support Template');
    }

    function createTicket() {
      document.querySelector('.grievance-form').scrollIntoView({ behavior: 'smooth' });
    }

    function viewAllTickets() {
      alert('Ticket Management Dashboard would show:\n\n‚Ä¢ All tickets (open, in-progress, resolved)\n‚Ä¢ Advanced filtering options\n‚Ä¢ Bulk actions\n‚Ä¢ Export capabilities\n‚Ä¢ Performance analytics');
    }

    function trackTicket() {
      const ticketId = prompt('Enter Ticket ID to track:');
      if (ticketId) {
        alert(`Tracking information for ${ticketId}:\n\n‚Ä¢ Created: [Date]\n‚Ä¢ Current Status: [Status]\n‚Ä¢ Assigned Agent: [Name]\n‚Ä¢ Last Update: [Timestamp]\n‚Ä¢ Expected Resolution: [Date]`);
      }
    }

    function downloadRecords() {
      alert('Download Options:\n\n‚Ä¢ All ticket history (PDF)\n‚Ä¢ Specific ticket details\n‚Ä¢ Communication logs\n‚Ä¢ Resolution certificates\n‚Ä¢ Performance reports');
    }

    function emergencySupport() {
      alert('üö® EMERGENCY SUPPORT ACTIVATED\n\nThis will:\n‚Ä¢ Immediately notify emergency support team\n‚Ä¢ Escalate to senior management\n‚Ä¢ Provide priority handling\n‚Ä¢ Enable direct phone contact\n\nOnly use for critical business-impacting issues.');
    }

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      updateIssueCategories();
      selectPriority('medium');
    });
  </script>
</body>
</html>